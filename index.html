<!DOCTYPE html>
<html lang="ar" dir="rtl">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Ù„Ø¹Ø¨Ø© XO</title>
    <style>
        body {
            margin: 0;
            font-family: "Segoe UI", Tahoma, sans-serif;
            background: linear-gradient(135deg, #4facfe, #00f2fe);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            color: #333;
        }

        .container {
            background: #fff;
            width: 95%;
            max-width: 400px;
            border-radius: 16px;
            padding: 20px;
            box-shadow: 0 10px 25px rgba(0,0,0,0.2);
            text-align: center;
        }

        h1 {
            margin-bottom: 10px;
            color: #222;
        }

        input, select, button {
            width: 100%;
            padding: 10px;
            margin: 8px 0;
            border-radius: 8px;
            border: 1px solid #ccc;
            font-size: 16px;
        }

        button {
            background: #4facfe;
            color: #fff;
            border: none;
            cursor: pointer;
        }

        button:hover {
            background: #00c6ff;
        }

        .board {
            display: grid;
            grid-template-columns: repeat(3, 1fr);
            gap: 8px;
            margin: 15px 0;
        }

        .cell {
            background: #f0f0f0;
            height: 80px;
            font-size: 36px;
            display: flex;
            justify-content: center;
            align-items: center;
            cursor: pointer;
            border-radius: 10px;
        }

        .cell:hover {
            background: #e0e0e0;
        }

        .hidden {
            display: none;
        }

        .status {
            margin: 10px 0;
            font-weight: bold;
        }

        footer {
            margin-top: 15px;
            font-size: 12px;
            color: #555;
            border-top: 1px solid #ddd;
            padding-top: 10px;
        }
    </style>
</head>
<body>

<div class="container">
    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ø¨Ø¯Ø§ÙŠØ© -->
    <div id="startScreen">
        <h1>ðŸŽ® Ù„Ø¹Ø¨Ø© XO</h1>
        <input type="text" id="player1" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„">
        <input type="text" id="player2" placeholder="Ø§Ø³Ù… Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø«Ø§Ù†ÙŠ (Ø§Ø®ØªÙŠØ§Ø±ÙŠ)">
        <select id="mode">
            <option value="single">Ù„Ø§Ø¹Ø¨ ÙˆØ§Ø­Ø¯</option>
            <option value="two">Ù„Ø§Ø¹Ø¨ÙŠÙ†</option>
        </select>
        <button onclick="startGame()">Ø§Ø¨Ø¯Ø£ Ø§Ù„Ù„Ø¹Ø¨Ø©</button>
    </div>

    <!-- Ø´Ø§Ø´Ø© Ø§Ù„Ù„Ø¹Ø¨Ø© -->
    <div id="gameScreen" class="hidden">
        <div class="status" id="statusText"></div>
        <div class="board" id="board"></div>
        <button onclick="resetGame()">Ø¥Ø¹Ø§Ø¯Ø© Ø§Ù„Ù„Ø¹Ø¨</button>
    </div>

    <!-- Ø§Ù„ÙÙˆØªØ± Ø§Ù„Ø¥Ø¬Ø¨Ø§Ø±ÙŠ -->
    <footer>
        <div>Student Name: YAZAN MOHAMMED SAEED ALGHAMDI (ÙŠØ²Ù† Ù…Ø­Ù…Ø¯ Ø¨Ù† Ø³Ø¹ÙŠØ¯ Ø§Ù„ØºØ§Ù…Ø¯ÙŠ)</div>
        <div>Student ID: 446001212</div>
        <div>Supervised by: Mohammed Ahmed Jabali</div>
    </footer>
</div>

<script>
    const boardElement = document.getElementById("board");
    const statusText = document.getElementById("statusText");
    const startScreen = document.getElementById("startScreen");
    const gameScreen = document.getElementById("gameScreen");

    let board = Array(9).fill("");
    let currentPlayer = "X";
    let players = {};
    let mode = "single";
    let gameActive = true;

    function startGame() {
        const p1 = document.getElementById("player1").value || "Ø§Ù„Ù„Ø§Ø¹Ø¨ Ø§Ù„Ø£ÙˆÙ„";
        const p2 = document.getElementById("player2").value || "Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±";
        mode = document.getElementById("mode").value;

        players = {
            X: p1,
            O: mode === "two" ? p2 : "Ø§Ù„ÙƒÙ…Ø¨ÙŠÙˆØªØ±"
        };

        startScreen.classList.add("hidden");
        gameScreen.classList.remove("hidden");

        createBoard();
        updateStatus();
    }

    function createBoard() {
        boardElement.innerHTML = "";
        board = Array(9).fill("");
        gameActive = true;
        currentPlayer = "X";

        for (let i = 0; i < 9; i++) {
            const cell = document.createElement("div");
            cell.classList.add("cell");
            cell.dataset.index = i;
            cell.onclick = () => handleMove(i);
            boardElement.appendChild(cell);
        }
    }

    function handleMove(index) {
        if (!gameActive || board[index] !== "") return;

        board[index] = currentPlayer;
        document.querySelectorAll(".cell")[index].textContent = currentPlayer;

        if (checkWinner()) {
            statusText.textContent = `ðŸ† Ø§Ù„ÙØ§Ø¦Ø²: ${players[currentPlayer]}`;
            gameActive = false;
            return;
        }

        if (board.every(cell => cell !== "")) {
            statusText.textContent = "ðŸ¤ ØªØ¹Ø§Ø¯Ù„!";
            gameActive = false;
            return;
        }

        currentPlayer = currentPlayer === "X" ? "O" : "X";
        updateStatus();

        if (mode === "single" && currentPlayer === "O") {
            setTimeout(computerMove, 500);
        }
    }

    function computerMove() {
        const emptyCells = board.map((v, i) => v === "" ? i : null).filter(v => v !== null);
        const randomIndex = emptyCells[Math.floor(Math.random() * emptyCells.length)];
        handleMove(randomIndex);
    }

    function checkWinner() {
        const wins = [
            [0,1,2],[3,4,5],[6,7,8],
            [0,3,6],[1,4,7],[2,5,8],
            [0,4,8],[2,4,6]
        ];

        return wins.some(pattern => 
            pattern.every(index => board[index] === currentPlayer)
        );
    }

    function updateStatus() {
        statusText.textContent = `Ø§Ù„Ø¯ÙˆØ± Ø¹Ù„Ù‰: ${players[currentPlayer]}`;
    }

    function resetGame() {
        createBoard();
        updateStatus();
    }
</script>

</body>
</html>
